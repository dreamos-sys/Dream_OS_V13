<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#0a0e27">
    <title>Dream OS v13.4</title>
    <link href="https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&family=Plus+Jakarta+Sans:wght@400;700;800&display=swap" rel="stylesheet">
    <style>
        *{margin:0;padding:0;box-sizing:border-box}
        body{font-family:'Plus Jakarta Sans',sans-serif;background:#0a0e27;color:white;overflow-x:hidden}
        .hidden{display:none!important}
        .arabic{font-family:'Amiri',serif}
        .spinner{width:60px;height:60px;border:4px solid rgba(59,130,246,0.1);border-top-color:#3b82f6;border-radius:50%;animation:spin 1s linear infinite}
        @keyframes spin{to{transform:rotate(360deg)}}
        .glass{background:rgba(30,41,59,0.6);backdrop-filter:blur(15px);border:1px solid rgba(255,255,255,0.1)}
        .slide{display:none;width:100%}
        .slide.active{display:flex;flex-direction:column;align-items:center;justify-content:center}
        .input-wrapper{position:relative}
        .toggle-pwd{position:absolute;right:12px;top:50%;transform:translateY(-50%);background:none;border:none;color:#64748b;cursor:pointer;font-size:18px}
        .toggle-pwd:hover{color:white}
    </style>
</head>
<body>

    <!-- LOADING -->
    <div id="loading" style="position:fixed;inset:0;z:50;background:#0a0e27;display:flex;flex-direction:column;align-items:center;justify-content:center">
        <div class="spinner" style="margin-bottom:20px"></div>
        <h1 style="font-size:24px;font-weight:900">DREAM OS</h1>
        <p style="font-size:10px;color:#3b82f6;margin-top:8px">v13.4 - Sovereign System</p>
        <p style="font-size:8px;color:#64748b;margin-top:16px">ğŸ›¡ï¸ Security Loading...</p>
    </div>

    <!-- LOGIN -->
    <div id="login" class="hidden" style="position:fixed;inset:0;z:40;background:#0a0e27;display:flex;align-items:center;justify-content:center;padding:24px">
        <div style="width:100%;max-width:360px">
            <!-- Spiritual Header -->
            <div style="text-align:center;margin-bottom:24px">
                <p class="arabic" style="font-size:28px;color:#fbbf24;margin-bottom:4px">Ø¨ÙØ³Ù’Ù…Ù Ø§Ù„Ù„ÙÙ‘Ù‡Ù Ø§Ù„Ø±ÙÙ‘Ø­Ù’Ù…ÙÙ€Ù°Ù†Ù Ø§Ù„Ø±ÙÙ‘Ø­ÙÙŠÙ…Ù</p>
                <p class="arabic" style="font-size:14px;color:#64748b;margin-bottom:8px">Ø§ÙÙ„Ù„Ù‡Ù… ØµÙÙ„ÙÙ‘ Ø¹ÙÙ„ÙÙ‰ Ø³ÙÙŠÙÙ‘Ø¯ÙÙ†ÙØ§ Ù…ÙØ­ÙÙ…ÙÙ‘Ø¯Ù</p>
                <h1 style="font-size:32px;font-weight:900">DREAM <span style="color:#3b82f6">OS</span></h1>
                <p style="font-size:10px;color:#64748b">Access Control</p>
            </div>

            <!-- Login Card -->
            <div class="glass" style="padding:32px;border-radius:24px">
                <div class="input-wrapper">
                    <input type="password" id="pass" placeholder="ACCESS CODE" style="width:100%;padding:16px 48px 16px 16px;background:rgba(0,0,0,0.4);border:1px solid #334155;border-radius:16px;color:white;text-align:center;font-weight:700;letter-spacing:2px;outline:none">
                    <!-- Show/Hide Password Icon -->
                    <button type="button" id="toggle-pwd" class="toggle-pwd" onclick="togglePassword()">ğŸ‘ï¸</button>                </div>
                <button onclick="doLogin()" id="btn" style="width:100%;padding:16px;margin-top:16px;background:#2563eb;border:none;border-radius:16px;color:white;font-weight:900;cursor:pointer">ğŸ”“ UNLOCK SYSTEM</button>
                <p id="err" class="hidden" style="color:#ef4444;font-size:10px;text-align:center;font-weight:700;margin-top:12px"></p>
                <p style="font-size:8px;color:#475569;text-align:center;margin-top:16px">ğŸ” ISO 27001 Certified</p>
            </div>

            <!-- Footer -->
            <p style="text-align:center;font-size:10px;color:#475569;margin-top:16px">"The Power Soul of Shalawat"</p>
            <p style="text-align:center;font-size:8px;color:#334155;margin-top:8px">Dream Team Â© 2026</p>
        </div>
    </div>

    <!-- MAIN APP -->
    <div id="app" class="hidden" style="display:flex;flex-direction:column;min-height:100vh;padding-bottom:100px">
        
        <!-- Header with Bismillah & Shalawat -->
        <header style="padding:20px 16px;text-align:center;background:rgba(10,14,39,0.8)">
            <p class="arabic" style="font-size:20px;color:#fbbf24;margin-bottom:2px">Ø¨ÙØ³Ù’Ù…Ù Ø§Ù„Ù„ÙÙ‘Ù‡Ù Ø§Ù„Ø±ÙÙ‘Ø­Ù’Ù…ÙÙ€Ù°Ù†Ù Ø§Ù„Ø±ÙÙ‘Ø­ÙÙŠÙ…Ù</p>
            <p class="arabic" style="font-size:12px;color:#64748b;margin-bottom:8px">Ø§ÙÙ„Ù„Ù‡Ù… ØµÙÙ„ÙÙ‘ Ø¹ÙÙ„ÙÙ‰ Ø³ÙÙŠÙÙ‘Ø¯ÙÙ†ÙØ§ Ù…ÙØ­ÙÙ…ÙÙ‘Ø¯Ù</p>
            <h1 style="font-size:10px;color:#94a3b8;font-weight:700;letter-spacing:2px">DREAM OS v13.4</h1>
        </header>

        <!-- 7 Slides -->
        <section style="padding:16px">
            <div class="glass" style="height:180px;border-radius:24px;position:relative;overflow-hidden;padding:20px">
                <div id="slider" style="height:100%;display:flex">
                    <div class="slide active">
                        <p style="font-size:22px;font-weight:900;color:#fbbf24">âœ¨ Selamat Datang</p>
                        <p style="font-size:10px;color:#94a3b8;margin-top:6px">SIF Al-Fikri</p>
                        <div style="display:flex;gap:8px;margin-top:12px;justify-content:center">
                            <span style="font-size:8px;background:rgba(16,185,129,0.2);color:#10b981;padding:4px 12px;border-radius:12px">ISO 27001</span>
                            <span style="font-size:8px;background:rgba(59,130,246,0.2);color:#3b82f6;padding:4px 12px;border-radius:12px">v13.4</span>
                        </div>
                    </div>
                    <div class="slide">
                        <p style="font-size:10px;color:#64748b">ğŸ“… Booking Pending</p>
                        <p style="font-size:42px;font-weight:900;color:#3b82f6;margin-top:12px" id="s-booking">0</p>
                    </div>
                    <div class="slide">
                        <p style="font-size:10px;color:#64748b">âš ï¸ K3 Reports</p>
                        <p style="font-size:42px;font-weight:900;color:#f97316;margin-top:12px" id="s-k3">0</p>
                    </div>
                    <div class="slide">
                        <p style="font-size:10px;color:#64748b">ğŸŒ¤ï¸ Cuaca Depok</p>
                        <p style="font-size:24px;font-weight:900;color:#06b6d4;margin-top:12px" id="s-weather">26Â°C</p>
                    </div>
                    <div class="slide">
                        <p style="font-size:10px;color:#64748b">ğŸ“¢ Info Admin</p>
                        <p style="font-size:14px;color:#cbd5e1;margin-top:12px;text-align:center" id="s-admin">Sistem siap digunakan</p>
                    </div>                    <div class="slide">
                        <p style="font-size:10px;color:#64748b">ğŸ’¡ Saran AI</p>
                        <p style="font-size:14px;color:#cbd5e1;margin-top:12px;text-align:center" id="s-ai">Semua sistem normal</p>
                    </div>
                    <div class="slide">
                        <p style="font-size:10px;color:#fbbf24">ğŸ•Œ Waktu Shalat</p>
                        <p style="font-size:14px;color:#cbd5e1;margin-top:12px" id="s-prayer">Next: -</p>
                    </div>
                </div>
                <div style="position:absolute;bottom:12px;left:50%;transform:translateX(-50%);display:flex;gap:6px">
                    <div style="width:6px;height:6px;border-radius:50%;background:#3b82f6"></div>
                    <div style="width:6px;height:6px;border-radius:50%;background:#334155"></div>
                    <div style="width:6px;height:6px;border-radius:50%;background:#334155"></div>
                    <div style="width:6px;height:6px;border-radius:50%;background:#334155"></div>
                    <div style="width:6px;height:6px;border-radius:50%;background:#334155"></div>
                    <div style="width:6px;height:6px;border-radius:50%;background:#334155"></div>
                    <div style="width:6px;height:6px;border-radius:50%;background:#334155"></div>
                </div>
            </div>
        </section>

        <!-- 9 Icons Grid -->
        <main style="flex:1;padding:0 20px;overflow-y:auto">
            <div id="grid" style="display:grid;grid-template-columns:repeat(3,1fr);gap:16px"></div>
        </main>

        <!-- Bottom Nav -->
        <nav class="glass" style="position:fixed;bottom:0;left:0;right:0;margin:12px;border-radius:24px;padding:12px;display:flex;justify-content:space-around;align-items:center;z:100">
            <span style="color:#3b82f6;font-size:20px">ğŸ </span>
            <span style="color:#64748b;font-size:20px">ğŸ”</span>
            <button onclick="toggleAI()" style="width:56px;height:56px;background:#2563eb;border:4px solid #0a0e27;border-radius:50%;color:white;font-size:24px;margin-top:-40px;cursor:pointer;box-shadow:0 4px 20px rgba(37,99,235,0.4)">ğŸ¤–</button>
            <span style="color:#64748b;font-size:20px">ğŸ“œ</span>
            <button onclick="doLogout()" style="color:#64748b;background:none;border:none;cursor:pointer;font-size:20px">ğŸšª</button>
        </nav>
    </div>

    <!-- Bottom Sheet -->
    <div id="sheet" style="position:fixed;left:0;right:0;bottom:0;z:200;transform:translateY(100%);background:rgba(30,41,59,0.95);backdrop-filter:blur(20px);border-top:1px solid rgba(255,255,255,0.1);border-radius:24px 24px 0 0;padding:24px;height:85vh;transition:transform 0.3s">
        <div style="width:48px;height:4px;background:#334155;border-radius:2px;margin:0 auto 20px;cursor:pointer" onclick="closeSheet()"></div>
        <div id="sheet-content" style="height:calc(100% - 40px);overflow-y:auto"></div>
    </div>

    <script>
        // ===== CONFIG =====
        var loadingHideTime = 3000;
        var isPasswordVisible = false;
        console.log('ğŸš€ Dream OS v13.4 Initializing...');

        // ===== MODULES =====
        var modules = [            {id:'booking',name:'BOOKING',icon:'ğŸ“…'},
            {id:'k3',name:'K3',icon:'âš ï¸'},
            {id:'security',name:'SECURITY',icon:'ğŸ›¡ï¸'},
            {id:'janitor-in',name:'JANITOR IN',icon:'ğŸ§¹'},
            {id:'janitor-out',name:'JANITOR OUT',icon:'ğŸŒ¿'},
            {id:'maintenance',name:'MAINTENANCE',icon:'ğŸ”§'},
            {id:'stok',name:'STOK',icon:'ğŸ“¦'},
            {id:'asset',name:'ASSET',icon:'ğŸ¢'},
            {id:'commandcenter',name:'COMMAND',icon:'ğŸ“Š'}
        ];

        // ===== ACCESS CODES =====
        var codes = {
            '012443410': ['all'],
            'Mr.M_Architect_2025': ['all'],
            '4dm1n_AF6969@00': ['all'],
            'LHPSsec_AF2025': ['security'],
            'CHCS_AF_@003': ['janitor-in','janitor-out'],
            'SACS_AF@004': ['stok'],
            'M41n_4F@234': ['maintenance'],
            '4dm1n_6969@01': ['asset'],
            '4dm1n_9696@02': ['stok'],
            '4553Tumum_AF@1112': ['asset'],
            'user_@1234': ['booking'],
            'user_@2345': ['k3']
        };

        // ===== HIDE LOADING =====
        setTimeout(function() {
            console.log('â° Hiding loading...');
            var loading = document.getElementById('loading');
            if (loading) loading.style.display = 'none';
            checkSession();
        }, loadingHideTime);

        // ===== TOGGLE PASSWORD =====
        function togglePassword() {
            var input = document.getElementById('pass');
            var btn = document.getElementById('toggle-pwd');
            isPasswordVisible = !isPasswordVisible;
            input.type = isPasswordVisible ? 'text' : 'password';
            btn.textContent = isPasswordVisible ? 'ğŸ™ˆ' : 'ğŸ‘ï¸';
            console.log('ğŸ‘ï¸ Password:', isPasswordVisible ? 'Visible' : 'Hidden');
        }

        // ===== CHECK SESSION =====
        function checkSession() {
            console.log('ğŸ“ Checking session...');
            var session = localStorage.getItem('dream_session');
            var allowed = localStorage.getItem('allowed_modules');            
            if (session && allowed) {
                document.getElementById('login').classList.add('hidden');
                document.getElementById('app').classList.remove('hidden');
                document.getElementById('app').style.display = 'flex';
                renderGrid(JSON.parse(allowed));
                updateStats();
                console.log('âœ… Session restored');
            } else {
                document.getElementById('login').classList.remove('hidden');
                document.getElementById('app').classList.add('hidden');
                document.getElementById('app').style.display = 'none';
                console.log('âœ… Show login');
            }
        }

        // ===== LOGIN =====
        function doLogin() {
            var pass = document.getElementById('pass').value.trim();
            var btn = document.getElementById('btn');
            var err = document.getElementById('err');

            if (!pass) {
                err.textContent = 'âš ï¸ MASUKKAN CODE!';
                err.classList.remove('hidden');
                return;
            }

            btn.disabled = true;
            btn.textContent = 'â³ VERIFYING...';
            err.classList.add('hidden');

            if (codes[pass]) {
                localStorage.setItem('dream_session', pass);
                localStorage.setItem('allowed_modules', JSON.stringify(codes[pass]));
                console.log('âœ… Login:', pass);
                location.reload();
            } else {
                err.textContent = 'âŒ ACCESS DENIED';
                err.classList.remove('hidden');
                btn.disabled = false;
                btn.textContent = 'ğŸ”“ UNLOCK SYSTEM';
            }
        }

        // ===== LOGOUT =====
        function doLogout() {
            if (confirm('âš ï¸ Logout?')) {
                localStorage.removeItem('dream_session');
                localStorage.removeItem('allowed_modules');                location.reload();
            }
        }

        // ===== TOGGLE AI =====
        function toggleAI() {
            alert('ğŸ¤– Dream AI Ready!\n\nQwen + Gemini + DSeek\nSiap membantu!');
        }

        // ===== RENDER GRID =====
        function renderGrid(allowed) {
            var grid = document.getElementById('grid');
            if (!grid) {
                console.error('âŒ Grid not found!');
                return;
            }
            
            var hasAll = allowed.indexOf('all') !== -1;
            var accessible = modules.filter(function(m) {
                return hasAll || allowed.indexOf(m.id) !== -1;
            });

            var html = '';
            accessible.slice(0, 9).forEach(function(m) {
                html += '<button onclick="openSheet(\'' + m.id + '\',\'' + m.name + '\')" style="display:flex;flex-direction:column;align-items:center;gap:10px;background:none;border:none;cursor:pointer;padding:12px;border-radius:16px;transition:background 0.2s">';
                html += '<div style="width:60px;height:60px;background:rgba(59,130,246,0.1);border:1px solid rgba(59,130,246,0.3);border-radius:20px;display:flex;align-items:center;justify-content:center;font-size:28px">' + m.icon + '</div>';
                html += '<span style="font-size:8px;font-weight:700;color:#94a3b8;text-align:center">' + m.name + '</span>';
                html += '</button>';
            });

            grid.innerHTML = html;
            console.log('âœ… Grid:', accessible.length, 'modules');
        }

        // ===== OPEN SHEET =====
        function openSheet(id, name) {
            var sheet = document.getElementById('sheet');
            var content = document.getElementById('sheet-content');
            
            // Find module info
            var mod = modules.find(function(m) { return m.id === id; });
            var icon = mod ? mod.icon : 'ğŸ“„';
            
            content.innerHTML = `
                <div style="padding:8px">
                    <div style="display:flex;align-items:center;gap:16px;margin-bottom:32px">
                        <div style="width:64px;height:64px;background:rgba(59,130,246,0.1);border:1px solid rgba(59,130,246,0.3);border-radius:20px;display:flex;align-items:center;justify-content:center;font-size:32px">${icon}</div>
                        <div>
                            <h2 style="font-size:26px;font-weight:900;color:white">${name}</h2>
                            <p style="font-size:10px;color:#64748b;margin-top:4px">Module v13.4</p>                        </div>
                    </div>
                    <div style="background:rgba(255,255,255,0.05);border-radius:20px;padding:40px 20px;text-align:center;margin-bottom:24px">
                        <p style="color:#94a3b8;font-size:16px;margin-bottom:8px">ğŸš§ Module Loading...</p>
                        <p style="color:#64748b;font-size:12px">Phase 2: Module Implementation</p>
                    </div>
                    <div style="background:rgba(59,130,246,0.1);border:1px solid rgba(59,130,246,0.2);border-radius:16px;padding:20px">
                        <p style="color:#3b82f6;font-size:12px;font-weight:700;margin-bottom:8px">ğŸ“‹ Status</p>
                        <p style="color:#94a3b8;font-size:12px">Module ready for deployment. Content will be added in Phase 2.</p>
                    </div>
                    <button onclick="closeSheet()" style="width:100%;margin-top:24px;padding:16px;background:#2563eb;border:none;border-radius:16px;color:white;font-weight:900;cursor:pointer">CLOSE</button>
                </div>
            `;
            
            sheet.style.transform = 'translateY(0)';
            console.log('ğŸ“„ Opened:', name);
        }

        // ===== CLOSE SHEET =====
        function closeSheet() {
            document.getElementById('sheet').style.transform = 'translateY(100%)';
            console.log('ğŸ“„ Sheet closed');
        }

        // ===== SLIDER (7 SLIDES - 7 DETIK) =====
        var slideIdx = 0;
        setInterval(function() {
            var slides = document.querySelectorAll('.slide');
            slides.forEach(function(s) { s.classList.remove('active'); });
            slideIdx = (slideIdx + 1) % slides.length;
            slides[slideIdx].classList.add('active');
        }, 7000);
        console.log('âœ… Slider: 7 slides (7s each)');

        // ===== UPDATE STATS =====
        function updateStats() {
            // Random stats for demo (remove when Supabase connected)
            document.getElementById('s-booking').textContent = Math.floor(Math.random() * 5);
            document.getElementById('s-k3').textContent = Math.floor(Math.random() * 3);
            console.log('âœ… Stats updated');
        }

        // ===== ENTER KEY =====
        document.getElementById('pass')?.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') doLogin();
        });

        console.log('âœ… Dream OS Ready!');
        console.log('ğŸ”‘ Codes: 12 Complete');
        console.log('ğŸ‘ï¸ Show/Hide: Ready');        console.log('ğŸ•Œ Bismillah: Complete');
    </script>
</body>
</html>
<div class="max-w-2xl mx-auto p-4">
    <div class="text-center mb-6">
        <h2 class="text-xl font-semibold text-yellow-600">Dashboard</h2>
    </div>

    <div id="debug-info" style="background: #333; color: #ff0; padding: 8px; border-radius: 8px; margin-bottom: 16px;">
        Memuat...
    </div>

    <div id="menu-grid" class="grid grid-cols-2 gap-3 md:grid-cols-3"></div>
    <button id="logout" class="mt-6 w-full bg-red-500 hover:bg-red-600 text-white p-3 rounded-xl">Logout</button>
</div>

<script>
    // Tampilkan alert untuk test
    alert('Script home.js berjalan!');

    const allowed = JSON.parse(sessionStorage.getItem('allowed_modules') || '[]');
    document.getElementById('debug-info').innerText = 'Modul: ' + (allowed.join(', ') || 'kosong');

    // MenuMap sederhana (hanya booking untuk test)
    const menuMap = {
        booking: { name: 'Booking Sarana', icon: 'ðŸ“…', color: 'bg-blue-500' }
    };

    const grid = document.getElementById('menu-grid');
    const visible = allowed.filter(id => menuMap[id]);

    if (visible.length === 0) {
        grid.innerHTML = '<p>Tidak ada modul</p>';
    } else {
        grid.innerHTML = visible.map(id => `
            <a href="#${id}" class="${menuMap[id].color} text-white p-4 rounded-xl text-center">
                <span class="block text-2xl">${menuMap[id].icon}</span>
                ${menuMap[id].name}
            </a>
        `).join('');
    }

    document.getElementById('logout').onclick = (e) => {
        e.preventDefault();
        sessionStorage.removeItem('allowed_modules');
        window.location.reload();
    };
</script>

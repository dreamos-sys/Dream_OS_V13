<div class="space-y-6 slide-in">
    <div class="grid grid-cols-2 gap-4">
        <div class="glass p-5 rounded-[2rem] border-l-4 border-purple-500 shadow-lg">
            <p class="text-[9px] uppercase font-bold text-slate-500 tracking-widest">Aset Aman</p>
            <div class="flex items-center gap-2 mt-1">
                <span class="text-2xl font-black dream-value" data-val="1,240">••••</span>
                <i class="fas fa-box text-purple-500/30 text-xs"></i>
            </div>
        </div>
        <div class="glass p-5 rounded-[2rem] border-l-4 border-green-500 shadow-lg">
            <p class="text-[9px] uppercase font-bold text-slate-500 tracking-widest">Status Aura</p>
            <div class="flex items-center gap-2 mt-1">
                <span class="text-sm font-black text-green-400">EXCELLENT</span>
                <div class="w-2 h-2 bg-green-500 rounded-full animate-ping"></div>
            </div>
        </div>
    </div>

    <div class="glass rounded-[2.5rem] overflow-hidden border border-white/5 shadow-2xl">
        <div class="bg-white/5 px-6 py-4 border-b border-white/5 flex justify-between items-center">
            <h3 class="text-[10px] font-black uppercase tracking-widest flex items-center gap-2">
                <i class="fas fa-file-invoice text-purple-500"></i> Laporan K3 & Security
            </h3>
            <span class="text-[8px] bg-purple-500/20 text-purple-400 px-3 py-1 rounded-full font-bold">24 HOURS ACTIVE</span>
        </div>
        
        <div class="p-6 space-y-4">
            <div class="grid grid-cols-2 gap-3">
                <div class="space-y-1">
                    <label class="text-[9px] text-slate-500 ml-2 uppercase font-bold">Hari Ke-</label>
                    <input type="number" id="day-num" class="w-full bg-slate-900/50 border border-white/5 p-3 rounded-xl text-xs focus:border-purple-500 outline-none" placeholder="Contoh: 1">
                </div>
                <div class="space-y-1">
                    <label class="text-[9px] text-slate-500 ml-2 uppercase font-bold">Kategori</label>
                    <select id="k3-cat" class="w-full bg-slate-900/50 border border-white/5 p-3 rounded-xl text-xs focus:border-purple-500 outline-none">
                        <option value="SECURITY">SECURITY</option>
                        <option value="KEBERSIHAN">KEBERSIHAN</option>
                        <option value="KERUSAKAN">KERUSAKAN</option>
                        <option value="KEHILANGAN">KEHILANGAN</option>
                    </select>
                </div>
            </div>

            <div class="space-y-1">
                <label class="text-[9px] text-slate-500 ml-2 uppercase font-bold">Deskripsi Laporan (XL View)</label>
                <textarea id="report-desc" rows="4" class="w-full bg-slate-900/50 border border-white/5 p-4 rounded-2xl text-xs focus:border-purple-500 outline-none resize-none" placeholder="Tuliskan laporan detail di sini..."></textarea>
            </div>

            <button onclick="saveReport()" class="w-full bg-white text-black font-black p-4 rounded-2xl hover:bg-purple-600 hover:text-white transition-all transform active:scale-95 shadow-xl text-xs uppercase tracking-widest">
                Kirim Laporan Ke Dream Core
            </button>
        </div>
    </div>
</div>

<script>
    // Logic Khusus Dashboard
    console.log("Dashboard Module Synchronized [cite: 2026-01-11]");

    // Listen to Global Eye Toggle
    document.addEventListener('dream_eye', (e) => {
        const isVisible = e.detail;
        document.querySelectorAll('.dream-value').forEach(el => {
            el.textContent = isVisible ? el.getAttribute('data-val') : '••••';
        });
    });

    async function saveReport() {
        const day = document.getElementById('day-num').value;
        const desc = document.getElementById('report-desc').value;
        const cat = document.getElementById('k3-cat').value;

        if(!day || !desc) return alert("Bismillah, lengkapi datanya My Bro!");

        // Logic Schedule: K3 hanya 07:30 - 16:00, Security 24 Jam [cite: 2026-01-11]
        const now = new Date();
        const hour = now.getHours();
        const min = now.getMinutes();
        const currentTime = hour + (min/60);

        if(cat !== 'SECURITY' && (currentTime < 7.5 || currentTime > 16)) {
            return alert("Akses Diblokir! Laporan K3 hanya bisa di jam kerja (07:30 - 16:00) [cite: 2026-01-11].");
        }

        alert("Laporan Berhasil Dikirim ke Cloud Supabase! [cite: 2026-01-16]");
        document.getElementById('report-desc').value = '';
    }
</script>
